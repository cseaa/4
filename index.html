<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Techser Power Solutions</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Merriweather:wght@700;900&display=swap" rel="stylesheet">

    <!-- Custom Config & Styles -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        orange: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            500: '#f97316',
                            600: '#ea580c', // Techser Orange
                            700: '#c2410c',
                        },
                        slate: {
                            850: '#1e293b',
                            900: '#0f172a', // Techser Blue
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(100%)' },
                            '100%': { transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Remove Blue Highlight on Mobile Tap */
        * {
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            -webkit-font-smoothing: antialiased;
        }

        /* Hide Scrollbar but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* PB Safe for notched phones */
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* Transitions */
        .page-transition {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="text-slate-900 select-none">

    <!-- HEADER -->
    <header class="bg-white sticky top-0 z-40 shadow-sm border-b border-slate-100 h-16">
        <div class="max-w-md mx-auto px-4 h-full flex justify-between items-center">
            <!-- Logo -->
            <div class="flex flex-col justify-center">
                <h1 class="font-serif font-bold text-2xl tracking-wide text-orange-600 leading-none">TECHSER</h1>
                <p class="text-[9px] font-bold text-slate-800 tracking-wider mt-0.5">THE TECHNICAL SERVICE PEOPLE</p>
            </div>

            <!-- User Actions -->
            <div class="flex items-center space-x-3">
                <div class="relative">
                    <button id="notif-btn" onclick="toggleNotifications()" class="relative p-2.5 rounded-full hover:bg-slate-50 text-slate-600 transition-colors">
                        <i data-lucide="bell" class="w-5 h-5"></i>
                        <span id="notif-badge" class="absolute top-2 right-2.5 w-2 h-2 bg-red-500 rounded-full border border-white animate-pulse"></span>
                    </button>
                    
                    <!-- Notification Dropdown -->
                    <div id="notif-dropdown" class="hidden absolute right-0 top-12 w-72 bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden z-50 animate-fade-in">
                        <div class="bg-slate-50 px-4 py-3 border-b border-slate-100 flex justify-between items-center">
                            <span class="text-xs font-bold text-slate-700 uppercase tracking-wider">Notifications</span>
                            <button onclick="markAllRead()" class="text-[10px] font-bold text-blue-600">Mark read</button>
                        </div>
                        <div id="notif-list" class="max-h-64 overflow-y-auto">
                            <!-- JS Injected -->
                        </div>
                    </div>
                </div>

                <button onclick="handleProfileClick()" class="w-9 h-9 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold text-xs hover:bg-orange-600 transition-colors shadow-md shadow-slate-200">
                    TR
                </button>
            </div>
        </div>
    </header>

    <!-- MAIN CONTENT CONTAINER -->
    <main id="main-content" class="pb-24 max-w-md mx-auto relative min-h-screen">
        
        <!-- PAGE: HOME -->
        <div id="page-home" class="animate-fade-in">
            <!-- Hero Card -->
            <div class="bg-slate-900 text-white px-6 pt-8 pb-12 rounded-b-[2.5rem] shadow-lg relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-orange-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"></div>
                <div class="relative z-10">
                    <p id="welcome-msg" class="text-slate-300 text-sm font-medium mb-1">Welcome, Guest</p>
                    <h2 class="text-3xl font-bold tracking-tight">Techser Raichur</h2>
                    
                    <div class="flex items-center mt-6 space-x-3">
                        <div class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-xl flex items-center border border-white/10">
                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"></div>
                            <span class="text-xs font-semibold">Systems Normal</span>
                        </div>
                        <div class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-xl flex items-center border border-white/10">
                            <i data-lucide="battery" class="w-4 h-4 text-orange-400 mr-2"></i>
                            <span class="text-xs font-semibold">Backup: 98%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Floating Quick Actions -->
            <div class="px-6 -mt-8 relative z-20">
                <div class="bg-white rounded-2xl shadow-xl shadow-slate-200/50 p-2 flex justify-between items-center border border-slate-100">
                    <button onclick="switchTab('products')" class="flex-1 flex flex-col items-center py-3 active:scale-95 transition-transform">
                        <div class="w-12 h-12 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center mb-2 shadow-sm">
                            <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                        </div>
                        <span class="text-[10px] font-bold text-slate-600">Catalog</span>
                    </button>
                    <button onclick="handleQuickAction('quote')" class="flex-1 flex flex-col items-center py-3 active:scale-95 transition-transform">
                        <div class="w-12 h-12 rounded-2xl bg-orange-50 text-orange-600 flex items-center justify-center mb-2 shadow-sm">
                            <i data-lucide="file-text" class="w-6 h-6"></i>
                        </div>
                        <span class="text-[10px] font-bold text-slate-600">Get Quote</span>
                    </button>
                    <button onclick="switchTab('monitor')" class="flex-1 flex flex-col items-center py-3 active:scale-95 transition-transform">
                        <div class="w-12 h-12 rounded-2xl bg-green-50 text-green-600 flex items-center justify-center mb-2 shadow-sm">
                            <i data-lucide="activity" class="w-6 h-6"></i>
                        </div>
                        <span class="text-[10px] font-bold text-slate-600">Monitor</span>
                    </button>
                    <button onclick="switchTab('contact')" class="flex-1 flex flex-col items-center py-3 active:scale-95 transition-transform">
                        <div class="w-12 h-12 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center mb-2 shadow-sm">
                            <i data-lucide="phone" class="w-6 h-6"></i>
                        </div>
                        <span class="text-[10px] font-bold text-slate-600">Support</span>
                    </button>
                </div>
            </div>

            <!-- Featured Solutions -->
            <div class="px-6 mt-8">
                <div class="flex justify-between items-end mb-4">
                    <h3 class="text-lg font-bold text-slate-800">Featured Solutions</h3>
                    <button onclick="switchTab('products')" class="text-xs font-bold text-orange-600 flex items-center">
                        View All <i data-lucide="arrow-right" class="w-3 h-3 ml-1"></i>
                    </button>
                </div>
                <div class="flex space-x-4 overflow-x-auto pb-4 no-scrollbar" id="featured-products">
                    <!-- JS Injected -->
                </div>
            </div>

            <!-- Updates -->
            <div class="px-6 mt-4">
                <h3 class="text-lg font-bold text-slate-800 mb-4">Branch Updates</h3>
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 flex items-start space-x-4">
                    <div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center shrink-0">
                        <i data-lucide="map-pin" class="w-5 h-5 text-slate-600"></i>
                    </div>
                    <div>
                        <h4 class="font-bold text-slate-800 text-sm">Service Camp in Industrial Area</h4>
                        <p class="text-xs text-slate-500 mt-1 leading-relaxed">
                            Techser engineers are conducting free voltage audits for Rice Mills in Raichur this week.
                        </p>
                        <button class="mt-3 text-xs font-bold text-slate-900 border-b border-slate-900 pb-0.5">Learn More</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- PAGE: PRODUCTS -->
        <div id="page-products" class="hidden animate-fade-in">
            <div class="bg-white px-6 pt-6 pb-4 border-b border-slate-100 sticky top-0 z-30">
                <h2 class="text-2xl font-bold text-slate-900">Product Catalog</h2>
                <div class="flex overflow-x-auto gap-2 mt-4 no-scrollbar">
                    <button onclick="filterProducts('All')" class="filter-btn active px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all bg-orange-600 text-white shadow-md shadow-orange-200">All</button>
                    <button onclick="filterProducts('Online UPS')" class="filter-btn px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all bg-slate-100 text-slate-600">Online UPS</button>
                    <button onclick="filterProducts('Stabilizers')" class="filter-btn px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all bg-slate-100 text-slate-600">Stabilizers</button>
                    <button onclick="filterProducts('Solar')" class="filter-btn px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all bg-slate-100 text-slate-600">Solar</button>
                </div>
            </div>
            <div id="product-grid" class="p-6 grid gap-6">
                <!-- JS Injected -->
            </div>
        </div>

        <!-- PAGE: MONITOR -->
        <div id="page-monitor" class="hidden animate-fade-in bg-slate-900 min-h-screen text-white pb-24">
            <!-- Locked State -->
            <div id="monitor-locked" class="flex flex-col items-center justify-center p-12 text-center h-[60vh]">
                <i data-lucide="lock" class="w-16 h-16 text-slate-700 mb-6"></i>
                <h2 class="text-2xl font-bold text-white mb-2">Restricted Access</h2>
                <p class="text-slate-400 max-w-xs mb-8 text-sm">Real-time telemetry monitoring is available only for registered industrial clients.</p>
                <button onclick="toggleAuthModal(true)" class="bg-orange-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-900/50">
                    Login to View Dashboard
                </button>
            </div>

            <!-- Unlocked State -->
            <div id="monitor-unlocked" class="hidden">
                <div class="bg-slate-800 p-6 rounded-b-[2rem] shadow-2xl border-b border-slate-700">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-xl font-bold flex items-center">
                                <i data-lucide="activity" class="w-5 h-5 mr-2 text-orange-500"></i>
                                Live Telemetry
                            </h2>
                            <p class="text-xs text-slate-400 font-mono mt-1">ID: RAICHUR-IND-04</p>
                        </div>
                        <div class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full border border-green-500/30 text-xs font-bold animate-pulse">
                            ONLINE
                        </div>
                    </div>

                    <!-- Main Gauge -->
                    <div class="bg-slate-900 rounded-3xl p-6 border border-slate-700 relative overflow-hidden">
                        <div class="flex justify-between items-end relative z-10">
                            <div class="text-center">
                                <p class="text-xs text-slate-500 uppercase tracking-widest mb-1">Grid Input</p>
                                <div class="text-4xl font-mono font-bold text-white"><span id="val-input">230</span><span class="text-sm text-slate-500 ml-1">V</span></div>
                            </div>
                            <i data-lucide="arrow-right" class="text-slate-600 w-6 h-6 mb-3"></i>
                            <div class="text-center">
                                <p class="text-xs text-slate-500 uppercase tracking-widest mb-1">Output</p>
                                <div class="text-4xl font-mono font-bold text-orange-500"><span id="val-output">230</span><span class="text-sm text-slate-500 ml-1">V</span></div>
                            </div>
                        </div>
                        <div class="absolute bottom-0 left-0 right-0 h-16 opacity-20">
                            <svg class="w-full h-full" preserveAspectRatio="none">
                                <path d="M0,50 Q20,40 40,60 T80,50 T120,40 T160,60 T200,50 V100 H0 Z" fill="#F97316" />
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="p-6 grid grid-cols-2 gap-4">
                    <div class="bg-slate-800 p-5 rounded-2xl border border-slate-700">
                        <div class="flex items-center justify-between mb-4">
                            <i data-lucide="battery" class="text-green-400 w-5 h-5"></i>
                            <span class="text-xs font-bold text-slate-400">BATTERY</span>
                        </div>
                        <div class="text-2xl font-bold"><span id="val-battery">98</span>%</div>
                        <div class="w-full bg-slate-700 h-1.5 rounded-full mt-3 overflow-hidden">
                            <div id="bar-battery" class="bg-green-500 h-full transition-all duration-1000" style="width: 98%"></div>
                        </div>
                    </div>
                    <div class="bg-slate-800 p-5 rounded-2xl border border-slate-700">
                        <div class="flex items-center justify-between mb-4">
                            <i data-lucide="zap" class="text-yellow-400 w-5 h-5"></i>
                            <span class="text-xs font-bold text-slate-400">LOAD</span>
                        </div>
                        <div class="text-2xl font-bold"><span id="val-load">45</span>%</div>
                        <div class="w-full bg-slate-700 h-1.5 rounded-full mt-3 overflow-hidden">
                            <div id="bar-load" class="bg-yellow-400 h-full transition-all duration-1000" style="width: 45%"></div>
                        </div>
                    </div>
                </div>

                <div class="px-6">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">Event Log</h3>
                    <div class="space-y-3">
                        <div class="bg-slate-800 p-4 rounded-xl border border-slate-700 flex justify-between items-center">
                            <div class="flex items-center">
                                <div class="w-2 h-2 rounded-full mr-3 bg-orange-500"></div>
                                <span class="text-xs font-medium text-slate-200">Input Voltage Sag (190V)</span>
                            </div>
                            <span class="text-[10px] font-mono text-slate-500">10:42:15</span>
                        </div>
                        <div class="bg-slate-800 p-4 rounded-xl border border-slate-700 flex justify-between items-center">
                            <div class="flex items-center">
                                <div class="w-2 h-2 rounded-full mr-3 bg-blue-500"></div>
                                <span class="text-xs font-medium text-slate-200">Self-Test Completed</span>
                            </div>
                            <span class="text-[10px] font-mono text-slate-500">09:00:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- PAGE: CONTACT -->
        <div id="page-contact" class="hidden animate-fade-in bg-slate-50 min-h-screen pb-24">
             <!-- Locked State -->
            <div id="contact-locked" class="flex flex-col items-center justify-center p-12 text-center h-[60vh]">
                <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-6">
                    <i data-lucide="phone" class="w-8 h-8 text-orange-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-slate-900 mb-2">Support Portal</h2>
                <p class="text-slate-500 max-w-xs mb-8 text-sm">Please sign in to access direct support lines, view ticket status, or contact the Raichur branch manager.</p>
                <button onclick="toggleAuthModal(true)" class="bg-slate-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-lg shadow-slate-200">
                    Sign In to Support
                </button>
            </div>

            <!-- Unlocked State -->
            <div id="contact-unlocked" class="hidden p-6">
                <div class="bg-white rounded-3xl p-8 shadow-sm border border-slate-100 text-center mb-6">
                    <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i data-lucide="phone" class="w-8 h-8 text-orange-600"></i>
                    </div>
                    <h2 class="text-2xl font-bold text-slate-900">Contact Support</h2>
                    <p class="text-sm text-slate-500 mt-2">Raichur Operations Center is available 9 AM - 7 PM</p>
                    
                    <div class="flex gap-3 mt-8">
                        <a href="tel:08532220630" class="flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold text-sm shadow-lg shadow-slate-200 flex items-center justify-center">
                            Call
                        </a>
                        <a href="https://wa.me/919916519128" target="_blank" class="flex-1 bg-green-600 text-white py-3 rounded-xl font-bold text-sm shadow-lg shadow-green-200 flex items-center justify-center">
                            <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i> WhatsApp
                        </a>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="p-5 border-b border-slate-50">
                        <div class="flex items-start">
                            <i data-lucide="map-pin" class="w-5 h-5 text-slate-400 mt-0.5 mr-3"></i>
                            <div>
                                <h4 class="text-sm font-bold text-slate-900">Branch Address</h4>
                                <p class="text-xs text-slate-500 mt-1 leading-relaxed w-3/4">Techser Power Solutions Pvt. Ltd., Raichur, Karnataka - 584101</p>
                            </div>
                        </div>
                    </div>
                    <div class="p-5">
                        <div class="flex items-start">
                            <i data-lucide="user" class="w-5 h-5 text-slate-400 mt-0.5 mr-3"></i>
                            <div>
                                <h4 class="text-sm font-bold text-slate-900">Branch Manager</h4>
                                <p class="text-xs text-slate-500 mt-1">DSG Kulkarni</p>
                                <p class="text-[10px] text-slate-400 mt-0.5 font-mono">ID: T-4502</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- BOTTOM NAVIGATION -->
    <div class="fixed bottom-0 left-0 right-0 bg-white z-50 pb-safe shadow-[0_-8px_30px_rgba(0,0,0,0.08)] rounded-t-3xl">
        <div class="flex justify-around items-center h-[72px] px-2 max-w-md mx-auto">
            <button onclick="switchTab('home')" class="nav-item group flex flex-col items-center justify-center w-full" data-tab="home">
                <div class="icon-box relative flex items-center justify-center w-14 h-8 rounded-full transition-all duration-300 ease-out bg-orange-100 translate-y-[-2px]">
                    <i data-lucide="home" class="w-5 h-5 text-orange-700 stroke-[2.5]"></i>
                </div>
                <span class="label text-[10px] font-bold mt-1 transition-all duration-300 text-orange-700">Home</span>
            </button>
            <button onclick="switchTab('products')" class="nav-item group flex flex-col items-center justify-center w-full" data-tab="products">
                <div class="icon-box relative flex items-center justify-center w-14 h-8 rounded-full transition-all duration-300 ease-out bg-transparent">
                    <i data-lucide="shopping-bag" class="w-5 h-5 text-slate-400 stroke-2"></i>
                </div>
                <span class="label text-[10px] font-bold mt-1 transition-all duration-300 text-slate-400">Store</span>
            </button>
            <button onclick="switchTab('monitor')" class="nav-item group flex flex-col items-center justify-center w-full" data-tab="monitor">
                <div class="icon-box relative flex items-center justify-center w-14 h-8 rounded-full transition-all duration-300 ease-out bg-transparent">
                    <i data-lucide="activity" class="w-5 h-5 text-slate-400 stroke-2"></i>
                </div>
                <span class="label text-[10px] font-bold mt-1 transition-all duration-300 text-slate-400">Monitor</span>
            </button>
            <button onclick="switchTab('contact')" class="nav-item group flex flex-col items-center justify-center w-full" data-tab="contact">
                <div class="icon-box relative flex items-center justify-center w-14 h-8 rounded-full transition-all duration-300 ease-out bg-transparent">
                    <i data-lucide="phone" class="w-5 h-5 text-slate-400 stroke-2"></i>
                </div>
                <span class="label text-[10px] font-bold mt-1 transition-all duration-300 text-slate-400">Support</span>
            </button>
        </div>
    </div>

    <!-- AUTH MODAL -->
    <div id="auth-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="toggleAuthModal(false)"></div>
        <div class="bg-white w-full max-w-sm rounded-[2.5rem] p-8 relative z-10 shadow-2xl animate-slide-up">
            <!-- Toggle -->
            <div class="bg-slate-100 p-1.5 rounded-2xl flex mb-8">
                <button id="tab-login" onclick="setAuthMode('login')" class="flex-1 py-3 text-sm font-bold rounded-xl transition-all duration-300 bg-white shadow-sm text-slate-900">Login</button>
                <button id="tab-signup" onclick="setAuthMode('signup')" class="flex-1 py-3 text-sm font-bold rounded-xl transition-all duration-300 text-slate-400 hover:text-slate-600">Sign Up</button>
            </div>
            
            <!-- Login Form -->
            <form onsubmit="handleAuth(event)" class="space-y-5">
                <div id="field-name" class="space-y-1.5 hidden">
                    <label class="block text-[10px] font-extrabold text-slate-500 tracking-wider uppercase ml-1">Full Name</label>
                    <input type="text" id="input-name" placeholder="John Doe" class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-sm font-semibold text-slate-800 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all placeholder:text-slate-300">
                </div>
                <div class="space-y-1.5">
                    <label class="block text-[10px] font-extrabold text-slate-500 tracking-wider uppercase ml-1">Email</label>
                    <input type="email" required placeholder="you@company.com" class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-sm font-semibold text-slate-800 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all placeholder:text-slate-300">
                </div>
                <div class="space-y-1.5">
                    <label class="block text-[10px] font-extrabold text-slate-500 tracking-wider uppercase ml-1">Password</label>
                    <input type="password" required placeholder="••••••••" class="w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-sm font-semibold text-slate-800 focus:outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 transition-all placeholder:text-slate-300">
                </div>
                <button type="submit" class="w-full bg-slate-900 text-white font-bold text-base py-4 rounded-2xl mt-4 shadow-xl shadow-slate-200 hover:bg-slate-800 active:scale-[0.98] transition-all flex items-center justify-center">
                    <span id="auth-btn-text">Access Account</span>
                    <i data-lucide="arrow-right" class="w-5 h-5 ml-2"></i>
                </button>
            </form>
            <div class="mt-8 text-center">
                <button onclick="handleGuest()" class="text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors">Skip & Continue as Guest</button>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA & STATE ---
        const PRODUCTS = [
            { id: 'ups-1', category: 'Online UPS', name: 'TechGlare Series', range: '1 kVA – 10 kVA', desc: 'Workhorse for SOHO & SME. DSP Control.', specs: ['Input: 160V-290V', 'PF: >0.99'], price: '₹16,000 - ₹35,000', image: 'bg-orange-50', icon: 'server' },
            { id: 'ups-2', category: 'Online UPS', name: 'TMP Series', range: '5 kVA – 30 kVA', desc: '3-Phase Industrial & Medical UPS.', specs: ['3-Phase Input', 'Galvanic Isolation'], price: '₹88,500+', image: 'bg-blue-50', icon: 'server' },
            { id: 'stab-1', category: 'Stabilizers', name: 'Air-Cooled Servo', range: '3 kVA – 60 kVA', desc: 'Fast correction speed for offices.', specs: ['Response: <10ms', 'Eff: >98%'], price: '₹61,300', image: 'bg-slate-50', icon: 'settings' },
            { id: 'stab-2', category: 'Stabilizers', name: 'Oil-Cooled Servo', range: '50-500 kVA', desc: 'Heavy-duty for harsh Raichur dust.', specs: ['Oil Insulation', 'Sealed'], price: '₹1,12,400', image: 'bg-slate-100', icon: 'settings' },
            { id: 'solar-1', category: 'Solar', name: 'Tech-Solar PCU', range: '1 kVA – 7.5 kVA', desc: 'Intelligent Solar PCU with MPPT.', specs: ['MPPT Eff >95%', 'Hybrid Mode'], price: '₹20,000+', image: 'bg-green-50', icon: 'sun' }
        ];

        let state = {
            activeTab: 'home',
            isLoggedIn: false,
            userName: 'Guest',
            notifications: [
                { id: 1, title: 'Voltage Surge Detected', desc: 'Input voltage spiked to 280V at Unit 4.', time: '10m ago', type: 'alert', read: false },
                { id: 2, title: 'Service Ticket #4402', desc: 'Technician assigned for Battery Replacement.', time: '2h ago', type: 'info', read: false },
            ]
        };

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            renderFeatured();
            renderProducts();
            renderNotifications();
            startMonitorSimulation();
        });

        // --- NAVIGATION ---
        function switchTab(tabId) {
            // Check Access
            if ((tabId === 'contact' || tabId === 'monitor') && !state.isLoggedIn) {
                // Allow switching but show locked state handled in HTML
            }

            // Update State
            state.activeTab = tabId;

            // Hide all pages
            ['home', 'products', 'monitor', 'contact'].forEach(id => {
                document.getElementById(`page-${id}`).classList.add('hidden');
            });

            // Show active page
            document.getElementById(`page-${tabId}`).classList.remove('hidden');

            // Update Bottom Nav UI
            document.querySelectorAll('.nav-item').forEach(btn => {
                const isActive = btn.dataset.tab === tabId;
                const iconBox = btn.querySelector('.icon-box');
                // FIXED: Detect either original <i> or transformed <svg>
                const icon = iconBox.querySelector('i') || iconBox.querySelector('svg');
                const label = btn.querySelector('.label');

                if (isActive) {
                    iconBox.classList.remove('bg-transparent');
                    iconBox.classList.add('bg-orange-100', 'translate-y-[-2px]');
                    
                    if(icon) {
                        icon.classList.remove('text-slate-400', 'stroke-2');
                        icon.classList.add('text-orange-700', 'stroke-[2.5]');
                    }
                    
                    label.classList.remove('text-slate-400');
                    label.classList.add('text-orange-700');
                } else {
                    iconBox.classList.add('bg-transparent');
                    iconBox.classList.remove('bg-orange-100', 'translate-y-[-2px]');
                    
                    if(icon) {
                        icon.classList.add('text-slate-400', 'stroke-2');
                        icon.classList.remove('text-orange-700', 'stroke-[2.5]');
                    }
                    
                    label.classList.add('text-slate-400');
                    label.classList.remove('text-orange-700');
                }
            });
            
            window.scrollTo(0,0);
        }

        // --- AUTH ---
        function toggleAuthModal(show) {
            const modal = document.getElementById('auth-modal');
            if (show) modal.classList.remove('hidden');
            else modal.classList.add('hidden');
        }

        let authMode = 'login';
        function setAuthMode(mode) {
            authMode = mode;
            const loginTab = document.getElementById('tab-login');
            const signupTab = document.getElementById('tab-signup');
            const nameField = document.getElementById('field-name');
            const btnText = document.getElementById('auth-btn-text');

            if (mode === 'signup') {
                loginTab.classList.remove('bg-white', 'shadow-sm', 'text-slate-900');
                loginTab.classList.add('text-slate-400');
                signupTab.classList.add('bg-white', 'shadow-sm', 'text-slate-900');
                signupTab.classList.remove('text-slate-400');
                nameField.classList.remove('hidden');
                btnText.innerText = 'Create Account';
            } else {
                signupTab.classList.remove('bg-white', 'shadow-sm', 'text-slate-900');
                signupTab.classList.add('text-slate-400');
                loginTab.classList.add('bg-white', 'shadow-sm', 'text-slate-900');
                loginTab.classList.remove('text-slate-400');
                nameField.classList.add('hidden');
                btnText.innerText = 'Access Account';
            }
        }

        function handleAuth(e) {
            e.preventDefault();
            const nameInput = document.getElementById('input-name').value;
            const name = authMode === 'signup' && nameInput ? nameInput : 'Industrial User';
            
            loginUser(name);
        }

        function handleGuest() {
            toggleAuthModal(false);
        }

        function loginUser(name) {
            state.isLoggedIn = true;
            state.userName = name;
            
            document.getElementById('welcome-msg').innerText = `Welcome back, ${name}`;
            
            // Unlock Pages
            document.getElementById('monitor-locked').classList.add('hidden');
            document.getElementById('monitor-unlocked').classList.remove('hidden');
            document.getElementById('contact-locked').classList.add('hidden');
            document.getElementById('contact-unlocked').classList.remove('hidden');

            toggleAuthModal(false);
        }

        function handleProfileClick() {
            if (!state.isLoggedIn) {
                toggleAuthModal(true);
            } else {
                if(confirm('Log out?')) {
                    location.reload(); // Simple logout
                }
            }
        }

        function handleQuickAction(action) {
            if (action === 'quote') {
                if(!state.isLoggedIn) toggleAuthModal(true);
                else alert('Quote request sent to Raichur Branch!');
            }
        }

        // --- PRODUCTS ---
        function renderFeatured() {
            const container = document.getElementById('featured-products');
            container.innerHTML = PRODUCTS.slice(0, 3).map(p => `
                <div onclick="switchTab('products')" class="min-w-[260px] bg-white rounded-2xl p-4 shadow-sm border border-slate-100 flex items-center shrink-0">
                    <div class="w-16 h-16 rounded-xl ${p.image} flex items-center justify-center mr-4 shrink-0">
                        <i data-lucide="${p.icon}" class="w-8 h-8 text-slate-700 opacity-50"></i>
                    </div>
                    <div>
                        <span class="text-[10px] font-bold text-orange-600 uppercase tracking-wider">${p.category}</span>
                        <h4 class="font-bold text-slate-800 text-sm leading-tight mt-0.5">${p.name}</h4>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function renderProducts(filter = 'All') {
            const container = document.getElementById('product-grid');
            const filtered = filter === 'All' ? PRODUCTS : PRODUCTS.filter(p => p.category.includes(filter) || p.category === filter);
            
            container.innerHTML = filtered.map(p => `
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden group">
                    <div class="flex flex-col">
                        <div class="h-40 w-full ${p.image} flex items-center justify-center relative p-6">
                            <div class="absolute top-4 left-4 bg-white/90 backdrop-blur px-2 py-1 rounded-md text-[10px] font-bold text-slate-800 uppercase shadow-sm border border-white">
                                ${p.category}
                            </div>
                            <i data-lucide="${p.icon}" class="w-16 h-16 text-slate-800 opacity-10"></i>
                        </div>
                        <div class="p-5 flex-1 flex flex-col justify-between">
                            <div>
                                <h3 class="text-lg font-bold text-slate-900">${p.name}</h3>
                                <p class="text-xs text-slate-500 mt-2 leading-relaxed">${p.desc}</p>
                                <div class="mt-4 space-y-2">
                                    <div class="flex items-center text-[11px] text-slate-600 font-medium">
                                        <div class="w-1.5 h-1.5 rounded-full bg-green-500 mr-2"></div>
                                        ${p.specs[0]}
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 flex items-center gap-3">
                                <div class="flex-1">
                                    <p class="text-[10px] text-slate-400 uppercase font-bold tracking-wider">Est. Cost</p>
                                    <p class="text-sm font-bold text-slate-900">${p.price}</p>
                                </div>
                                <button onclick="orderWhatsApp('${p.name}', '${p.range}', '${p.price}')" class="flex-1 bg-slate-900 text-white py-3 rounded-xl font-bold text-xs flex items-center justify-center hover:bg-slate-800 transition-colors shadow-lg shadow-slate-200">
                                    <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i> Order
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function filterProducts(cat) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if(btn.innerText === cat) {
                    btn.classList.remove('bg-slate-100', 'text-slate-600');
                    btn.classList.add('bg-orange-600', 'text-white', 'shadow-md');
                } else {
                    btn.classList.add('bg-slate-100', 'text-slate-600');
                    btn.classList.remove('bg-orange-600', 'text-white', 'shadow-md');
                }
            });
            renderProducts(cat);
        }

        function orderWhatsApp(name, range, price) {
            const msg = `Hello Techser, I'm interested in the *${name}* (${range}).\nEst. Price: ${price}\n\nPlease share a formal quotation.`;
            window.open(`https://wa.me/919916519128?text=${encodeURIComponent(msg)}`, '_blank');
        }

        // --- NOTIFICATIONS ---
        function toggleNotifications() {
            const dropdown = document.getElementById('notif-dropdown');
            dropdown.classList.toggle('hidden');
        }

        function renderNotifications() {
            const list = document.getElementById('notif-list');
            const badge = document.getElementById('notif-badge');
            
            const unread = state.notifications.filter(n => !n.read).length;
            if(unread === 0) badge.classList.add('hidden');
            else badge.classList.remove('hidden');

            if(state.notifications.length === 0) {
                list.innerHTML = '<div class="p-8 text-center text-slate-400 text-xs">No new notifications</div>';
                return;
            }

            list.innerHTML = state.notifications.map(n => `
                <div class="p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors flex items-start gap-3 ${n.read ? 'opacity-60' : 'bg-orange-50/30'}">
                    <div class="mt-0.5 w-2 h-2 rounded-full shrink-0 ${n.type === 'alert' ? 'bg-red-500' : 'bg-blue-500'}"></div>
                    <div>
                        <h4 class="text-sm font-bold ${n.read ? 'text-slate-600' : 'text-slate-900'}">${n.title}</h4>
                        <p class="text-xs text-slate-500 mt-1 leading-snug">${n.desc}</p>
                        <span class="text-[10px] text-slate-400 mt-2 block font-medium">${n.time}</span>
                    </div>
                </div>
            `).join('');
        }

        function markAllRead() {
            state.notifications.forEach(n => n.read = true);
            renderNotifications();
        }

        // --- MONITOR SIMULATION ---
        function startMonitorSimulation() {
            let battery = 98.0;
            let load = 45;

            setInterval(() => {
                const input = Math.floor(230 + (Math.random() * 6 - 3));
                const output = 230;
                battery = Math.max(0, battery - 0.01);
                load = Math.min(100, Math.max(10, load + (Math.random() * 4 - 2)));

                document.getElementById('val-input').innerText = input;
                document.getElementById('val-output').innerText = output;
                
                const bVal = Math.round(battery);
                const lVal = Math.round(load);

                document.getElementById('val-battery').innerText = bVal;
                document.getElementById('bar-battery').style.width = `${bVal}%`;

                document.getElementById('val-load').innerText = lVal;
                document.getElementById('bar-load').style.width = `${lVal}%`;
                
                const loadBar = document.getElementById('bar-load');
                if(lVal > 80) {
                    loadBar.classList.remove('bg-yellow-400');
                    loadBar.classList.add('bg-red-500');
                } else {
                    loadBar.classList.add('bg-yellow-400');
                    loadBar.classList.remove('bg-red-500');
                }

            }, 2000);
        }

    </script>
</body>

</html>
